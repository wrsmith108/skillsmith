---
import DocsLayout from '../../layouts/DocsLayout.astro';
---

<DocsLayout title="MCP Server" description="Configure and use the Skillsmith MCP server with Claude Code">
  <h1>MCP Server</h1>

  <p class="lead">
    The Skillsmith MCP server integrates directly with Claude Code, enabling natural
    language skill discovery and management.
  </p>

  <h2>Overview</h2>

  <p>
    MCP (Model Context Protocol) servers extend Claude's capabilities by providing
    additional tools. The Skillsmith MCP server adds tools for searching, installing,
    and managing Claude Code skills.
  </p>

  <h2>Configuration</h2>

  <h3>Basic Setup</h3>

  <p>Add Skillsmith to your Claude settings at <code>~/.claude/settings.json</code>:</p>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"]
    }
  }
}`}</code></pre>

  <h3>Advanced Configuration</h3>

  <p>For more control, you can specify additional options:</p>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"],
      "env": {
        "SKILLSMITH_LOG_LEVEL": "debug",
        "SKILLSMITH_CACHE_TTL": "3600"
      }
    }
  }
}`}</code></pre>

  <h3>API Key Configuration</h3>

  <p>
    The Skillsmith API provides access to <strong>14,000+ skills</strong> that are indexed daily
    from GitHub and security screened hourly for vulnerabilities. Configure your API key for
    higher rate limits and usage tracking.
  </p>

  <h4>Why Use an API Key?</h4>

  <ul>
    <li><strong>Live indexed skills</strong> - Access skills as they're discovered and screened</li>
    <li><strong>Higher rate limits</strong> - Up to 300 requests/minute on Enterprise tier</li>
    <li><strong>Usage dashboard</strong> - Track your API usage at skillsmith.app/account</li>
    <li><strong>Priority access</strong> - During high-traffic periods</li>
  </ul>

  <h4>Setup</h4>

  <p><strong>Step 1:</strong> Create an account and get your API key at <a href="https://skillsmith.app/account">skillsmith.app/account</a></p>

  <p><strong>Step 2:</strong> Configure your API key using one of these methods:</p>

  <p><strong>Method A: Config File (Recommended)</strong></p>

  <p>Create <code>~/.skillsmith/config.json</code> - works on all platforms:</p>

  <pre><code>{`mkdir -p ~/.skillsmith && cat > ~/.skillsmith/config.json << 'EOF'
{
  "apiKey": "sk_live_your_key_here"
}
EOF`}</code></pre>

  <p><strong>Method B: Claude Settings</strong></p>

  <p>Add to your <code>~/.claude/settings.json</code>:</p>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"],
      "env": {
        "SKILLSMITH_API_KEY": "sk_live_your_key_here"
      }
    }
  }
}`}</code></pre>

  <p><strong>Step 3:</strong> Restart Claude Code (Cmd/Ctrl+Shift+P â†’ "Claude Code: Restart")</p>

  <div class="callout">
    <h4>Security Note</h4>
    <p>
      Never paste your API key directly in chat. Always configure it via one of the methods above.
      Your key will be used automatically for all Skillsmith API requests.
    </p>
  </div>

  <div class="callout callout-warning">
    <h4>Shell Exports Don't Work</h4>
    <p>
      Running <code>export SKILLSMITH_API_KEY=...</code> in your terminal does NOT pass the variable
      to MCP servers. MCP servers run as subprocesses spawned by Claude Code and don't inherit your
      shell environment. Use the config file or settings.json method above.
    </p>
  </div>

  <h4>Rate Limits by Tier</h4>

  <table>
    <thead>
      <tr>
        <th>Tier</th>
        <th>Rate Limit</th>
        <th>Monthly Cost</th>
        <th>Best For</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Trial</td>
        <td>10 total</td>
        <td>Free</td>
        <td>Quick evaluation</td>
      </tr>
      <tr>
        <td>Community</td>
        <td>30/min</td>
        <td>Free</td>
        <td>Personal projects</td>
      </tr>
      <tr>
        <td>Individual</td>
        <td>60/min</td>
        <td>$9.99/mo</td>
        <td>Active developers</td>
      </tr>
      <tr>
        <td>Team</td>
        <td>120/min</td>
        <td>$25/user/mo</td>
        <td>Development teams</td>
      </tr>
      <tr>
        <td>Enterprise</td>
        <td>300/min</td>
        <td>$55/user/mo</td>
        <td>Large organizations</td>
      </tr>
    </tbody>
  </table>

  <h3>Other Environment Variables</h3>

  <table>
    <thead>
      <tr>
        <th>Variable</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>SKILLSMITH_LOG_LEVEL</code></td>
        <td>Logging level (debug, info, warn, error)</td>
        <td>info</td>
      </tr>
      <tr>
        <td><code>SKILLSMITH_CACHE_TTL</code></td>
        <td>Cache time-to-live in seconds</td>
        <td>1800</td>
      </tr>
      <tr>
        <td><code>SKILLSMITH_REGISTRY</code></td>
        <td>Custom registry URL</td>
        <td>default registry</td>
      </tr>
      <tr>
        <td><code>SKILLSMITH_API_KEY</code></td>
        <td>Personal API key for usage tracking</td>
        <td>-</td>
      </tr>
    </tbody>
  </table>

  <h2>Available Tools</h2>

  <p>The MCP server provides the following tools to Claude:</p>

  <h3>search</h3>

  <p>Search for skills in the registry.</p>

  <pre><code>{`// Tool: search
// Parameters:
{
  "query": "testing",           // Search term (required)
  "category": "development",    // Category filter
  "trust_tier": "verified",     // Trust tier filter
  "min_score": 70,              // Minimum quality score
  "limit": 10                   // Max results
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Search for testing skills"</li>
    <li>"Find verified skills for git workflows"</li>
    <li>"Show me devops skills with high quality scores"</li>
  </ul>

  <h3>get_skill</h3>

  <p>Get detailed information about a specific skill.</p>

  <pre><code>{`// Tool: get_skill
// Parameters:
{
  "id": "community/jest-helper"  // Skill ID (required)
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Show details for community/jest-helper"</li>
    <li>"What does the git-commit skill do?"</li>
  </ul>

  <h3>install_skill</h3>

  <p>Install a skill to the local environment.</p>

  <pre><code>{`// Tool: install_skill
// Parameters:
{
  "id": "community/jest-helper",  // Skill ID (required)
  "path": "~/.claude/skills",     // Installation path
  "force": false                  // Overwrite existing
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Install the jest-helper skill"</li>
    <li>"Install community/git-commit"</li>
  </ul>

  <h3>uninstall_skill</h3>

  <p>Remove an installed skill.</p>

  <pre><code>{`// Tool: uninstall_skill
// Parameters:
{
  "id": "community/jest-helper"  // Skill ID (required)
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Uninstall the jest-helper skill"</li>
    <li>"Remove community/git-commit"</li>
  </ul>

  <h3>recommend</h3>

  <p>Get personalized skill recommendations.</p>

  <pre><code>{`// Tool: recommend
// Parameters:
{
  "context": "react",     // Technology context
  "limit": 5              // Max recommendations
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Recommend skills for my React project"</li>
    <li>"What skills would help with Node.js development?"</li>
  </ul>

  <h3>compare</h3>

  <p>Compare multiple skills side-by-side.</p>

  <pre><code>{`// Tool: compare
// Parameters:
{
  "skill_ids": ["jest-helper", "vitest-helper"]  // 2-5 skill IDs
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Compare jest-helper and vitest-helper"</li>
    <li>"What's the difference between these testing skills?"</li>
  </ul>

  <h3>validate</h3>

  <p>Validate a skill's structure.</p>

  <pre><code>{`// Tool: validate
// Parameters:
{
  "path": "./my-skill"  // Path to skill directory
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Validate my skill at ./my-skill"</li>
    <li>"Check if this skill structure is correct"</li>
  </ul>

  <h2>Usage Examples</h2>

  <h3>Discovering Skills</h3>

  <pre><code>{`You: "I need help with testing in my project. What skills are available?"

Claude: [Uses search tool] I found several testing skills:
- jest-helper: Comprehensive Jest testing utilities
- vitest-helper: Vitest integration and helpers
- playwright-utils: End-to-end testing with Playwright
...`}</code></pre>

  <h3>Installing and Using Skills</h3>

  <pre><code>{`You: "Install the jest-helper skill and show me how to use it"

Claude: [Uses install_skill tool] I've installed jest-helper to
~/.claude/skills/jest-helper. This skill provides...`}</code></pre>

  <h3>Comparing Options</h3>

  <pre><code>{`You: "Should I use jest-helper or vitest-helper for my Vite project?"

Claude: [Uses compare tool] Here's a comparison:
| Feature       | jest-helper | vitest-helper |
| Vite support  | Limited     | Native        |
| Speed         | Moderate    | Fast          |
...`}</code></pre>

  <h2>Trust Tiers</h2>

  <table>
    <thead>
      <tr>
        <th>Tier</th>
        <th>Description</th>
        <th>Review Process</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>verified</code></td>
        <td>Official Anthropic skills</td>
        <td>Full security audit</td>
      </tr>
      <tr>
        <td><code>community</code></td>
        <td>Community-reviewed</td>
        <td>Peer review + automated checks</td>
      </tr>
      <tr>
        <td><code>experimental</code></td>
        <td>Beta/new skills</td>
        <td>Basic validation only</td>
      </tr>
      <tr>
        <td><code>unknown</code></td>
        <td>Unverified</td>
        <td>None</td>
      </tr>
    </tbody>
  </table>

  <h2>Troubleshooting</h2>

  <h3>Server Not Starting</h3>

  <div class="callout">
    <h4>Check Node.js Version</h4>
    <p>Ensure you have Node.js 18+ installed. Run <code>node --version</code> to verify.</p>
  </div>

  <h3>Tools Not Available</h3>

  <div class="callout">
    <h4>Verify Configuration</h4>
    <p>
      Ensure your <code>~/.claude/settings.json</code> is valid JSON and the
      MCP server configuration is correct. Restart Claude Code after changes.
    </p>
  </div>

  <h3>Enable Debug Logging</h3>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"],
      "env": {
        "SKILLSMITH_LOG_LEVEL": "debug"
      }
    }
  }
}`}</code></pre>
</DocsLayout>
